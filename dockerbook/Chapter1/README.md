## docker简介


> docker的内容并不复杂，但是在理解上可能不太容易，所以下面整理了一些对于docker的介绍，看多了其实就理解了。


### docker是什么？

docker 是什么有很多解释，其实都大同小异,下面是我的理解

docker 就像是一个沙箱，你不需要知道它内部是怎么运行的，通过开放不同的端口来运行不同的程序。

我们知道不同的程序会需要不同的环境要求，比如你用go开发的后端代码，放在本地window中运行，你就需要去搭建搭建go运行的环境，有了docker,你只需要搭建一次，只要打包一个镜像，就可以在不同的平台运行。当然还有现成的镜像可以让你使用。



### docker的优势及在实际开发中的应用

> docker 对于后端开发比较友好，前端开发的话作用没有那么明显，当然前端也可以用docker部署node环境，如果你是前端的话，可能需要更多的学习，才能理解。

__1. docker用来开发，部署，测试，具有天然的优势。__

实际开发中，你本地搭建了一套环境，开发完成后需要测试工程师去测试，你需要搭建一套环境，测试完成，你需要部署到生产环境，有需要搭建一套环境，是不是很痛苦呢？

docker 就可以帮你解决，安装好docker后，打包一个镜像，`docker run` 一行命令，就可以让你的程序在其他平台部署好，如果需要多套，只需要一个镜像多启动几个容器，就可以了。

同时在一台主机上部署多个相互依赖的应用，人工部署费时费力，容易出错，而使用docker工具docker-compose 写好脚本，可以很容易就启动这些应用。


__2. docker直接构建在宿主机的操作系统上，占用主机的空间，内存小。__

以前比如在window上开发，但是项目需要部署在linux,
你调试很可能需要在本地搭建虚拟机，
然后在虚拟机中在搭建环境，运行代码，费时费力，很容易出问题。
虚拟机的启动往往需要几分钟，占用宿主机的内存，消耗宿主机的性能。

但是有了docker这些都不存在的。
宿主机装好docker,
你想运行linux环境的代码?
你想运行node环境代码？
你想运行go,php环境代码？
docker pull 镜像就可以了。
启动关闭都是秒级的。

__3. docker容器的分层技术，相同层级共享，充分利用主机性能__

我们用dockerfile构建镜像，会发现docker是分层的，这样的话，如果我们构建的镜像用的是同一个基础镜像，或者某个层级一样，docker只需要保存一份。

__4. docker容器启动是秒级的，而虚拟机启动是分钟级的。__

docker有很多命令，类似于git的命令，一个镜像可以启动n个独立的容器，我们的项目是运行在容器中的，相互隔离。而操作容器只需要通过类似于docker start [containerid] 就可以操作某个容器，速度相当快。

__5. 一台普通的主机可以启动若干个容器，而只能部署个位数的虚拟机__

前面说了，如果同时的一台主机部署多个服务的话，很可能会相互干扰，管理起来也比较麻烦，而且可能只是使用一下，就不用了。
这时候使用docker,只需要分配不同的端口，就可以用一个镜像启动n个容器。

__6. 虚拟机作为虚拟话的计算机，docker可以跑在虚拟机上__

docker 可以在多个平台使用，同样的虚拟机也可以运行docker,但没有啥必要，因为docker本身的兼容性已经很好了，不管是window，linux，mac都可以运行。



**docker的一些解释参考**

docker百度百科

Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的Linux机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。

——————————

阮一峰：http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html

Docker 属于 Linux 容器的一种封装，提供简单易用的容器使用接口。它是目前最流行的 Linux 容器解决方案。

Docker 将应用程序与该程序的依赖，打包在一个文件里面。运行这个文件，就会生成一个虚拟容器。程序在这个虚拟容器里运行，就好像在真实的物理机上运行一样。有了 Docker，就不用担心环境问题。

总体来说，Docker 的接口相当简单，用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。

——————————

作者：刘允鹏

链接：https://www.zhihu.com/question/28300645/answer/67707287

来源：知乎

著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

Docker的思想来自于集装箱，集装箱解决了什么问题？在一艘大船上，可以把货物规整的摆放起来。并且各种各样的货物被集装箱标准化了，集装箱和集装箱之间不会互相影响。那么我就不需要专门运送水果的船和专门运送化学品的船了。只要这些货物在集装箱里封装的好好的，那我就可以用一艘大船把他们都运走。docker就是类似的理念。现在都流行云计算了，云计算就好比大货轮。docker就是集装箱。1.不同的应用程序可能会有不同的应用环境，比如.net开发的网站和php开发的网站依赖的软件就不一样，如果把他们依赖的软件都安装在一个服务器上就要调试很久，而且很麻烦，还会造成一些冲突。比如IIS和Apache访问端口冲突。这个时候你就要隔离.net开发的网站和php开发的网站。常规来讲，我们可以在服务器上创建不同的虚拟机在不同的虚拟机上放置不同的应用，但是虚拟机开销比较高。docker可以实现虚拟机隔离应用环境的功能，并且开销比虚拟机小，小就意味着省钱了。2.你开发软件的时候用的是Ubuntu，但是运维管理的都是centos，运维在把你的软件从开发环境转移到生产环境的时候就会遇到一些Ubuntu转centos的问题，比如：有个特殊版本的数据库，只有Ubuntu支持，centos不支持，在转移的过程当中运维就得想办法解决这样的问题。这时候要是有docker你就可以把开发环境直接封装转移给运维，运维直接部署你给他的docker就可以了。而且部署速度快。3.在服务器负载方面，如果你单独开一个虚拟机，那么虚拟机会占用空闲内存的，docker部署的话，这些内存就会利用起来。总之docker就是集装箱原理。
